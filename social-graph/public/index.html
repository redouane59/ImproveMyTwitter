<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="style.css">
<html>
<body>
<button class="bt" onclick="window.location = '?user=_MarwanMuhammad';">_MarwanMuhammad</button>
<button class="bt" onclick="window.location = '?user=ABenalla_';">ABenalla_</button>
<button class="bt" onclick="window.location = '?user=AgagBoudjahlat';">AgagBoudjahlat</button>
<button class="bt" onclick="window.location = '?user=agnesbuzyn';">agnesbuzyn</button>
<button class="bt" onclick="window.location = '?user=alexdelvalle3';">alexdelvalle3</button>
<button class="bt" onclick="window.location = '?user=AlexDevecchio';">AlexDevecchio</button>
<button class="bt" onclick="window.location = '?user=alexiscorbiere';">alexiscorbiere</button>
<button class="bt" onclick="window.location = '?user=AlloucheNader';">AlloucheNader</button>
<button class="bt" onclick="window.location = '?user=Amk84000';">Amk84000</button>
<button class="bt" onclick="window.location = '?user=AnasseKazib';">AnasseKazib</button>
<button class="bt" onclick="window.location = '?user=anatolium';">anatolium</button>
<button class="bt" onclick="window.location = '?user=AQuatennens';">AQuatennens</button>
<button class="bt" onclick="window.location = '?user=arnoklarsfeld';">arnoklarsfeld</button>
<button class="bt" onclick="window.location = '?user=askolovitchC';">askolovitchC</button>
<button class="bt" onclick="window.location = '?user=BalasGuillaume';">BalasGuillaume</button>
<button class="bt" onclick="window.location = '?user=BelattarYassine';">BelattarYassine</button>
<button class="bt" onclick="window.location = '?user=benoithamon';">benoithamon</button>
<button class="bt" onclick="window.location = '?user=BGriveaux';">BGriveaux</button>
<button class="bt" onclick="window.location = '?user=BrunoRetailleau';">BrunoRetailleau</button>
<button class="bt" onclick="window.location = '?user=carolinedehaas';">carolinedehaas</button>
<button class="bt" onclick="window.location = '?user=CarolineFourest';">CarolineFourest</button>
<button class="bt" onclick="window.location = '?user=CCastaner';">CCastaner</button>
<button class="bt" onclick="window.location = '?user=cestrosi';">cestrosi</button>
<button class="bt" onclick="window.location = '?user=ChJacob77';">ChJacob77</button>
<button class="bt" onclick="window.location = '?user=ClaudeGoasguen';">ClaudeGoasguen</button>
<button class="bt" onclick="window.location = '?user=Clem_Autain';">Clem_Autain</button>
<button class="bt" onclick="window.location = '?user=clemovitch';">clemovitch</button>
<button class="bt" onclick="window.location = '?user=DamienRieu';">DamienRieu</button>
<button class="bt" onclick="window.location = '?user=datirachida';">datirachida</button>
<button class="bt" onclick="window.location = '?user=davidperrotin';">davidperrotin</button>
<button class="bt" onclick="window.location = '?user=delevoye';">delevoye</button>
<button class="bt" onclick="window.location = '?user=Deputee_Obono';">Deputee_Obono</button>
<button class="bt" onclick="window.location = '?user=dupontaignan';">dupontaignan</button>
<button class="bt" onclick="window.location = '?user=ECiotti';">ECiotti</button>
<button class="bt" onclick="window.location = '?user=edwyplenel';">edwyplenel</button>
<button class="bt" onclick="window.location = '?user=ELevyCauseur';">ELevyCauseur</button>
<button class="bt" onclick="window.location = '?user=ellensalvi';">ellensalvi</button>
<button class="bt" onclick="window.location = '?user=EmmanuelMacron';">EmmanuelMacron</button>
<button class="bt" onclick="window.location = '?user=Enthoven_R';">Enthoven_R</button>
<button class="bt" onclick="window.location = '?user=EPhilippePM';">EPhilippePM</button>
<button class="bt" onclick="window.location = '?user=EstherBenbassa';">EstherBenbassa</button>
<button class="bt" onclick="window.location = '?user=f_philippot';">f_philippot</button>
<button class="bt" onclick="window.location = '?user=fabien_gay';">fabien_gay</button>
<button class="bt" onclick="window.location = '?user=FabienDiFilippo';">FabienDiFilippo</button>
<button class="bt" onclick="window.location = '?user=fabricearfi';">fabricearfi</button>
<button class="bt" onclick="window.location = '?user=faureolivier';">faureolivier</button>
<button class="bt" onclick="window.location = '?user=FeizaBM';">FeizaBM</button>
<button class="bt" onclick="window.location = '?user=FrancisKalifat';">FrancisKalifat</button>
<button class="bt" onclick="window.location = '?user=Francois_Ruffin';">Francois_Ruffin</button>
<button class="bt" onclick="window.location = '?user=frhaz';">frhaz</button>
<button class="bt" onclick="window.location = '?user=GabrielAttal';">GabrielAttal</button>
<button class="bt" onclick="window.location = '?user=GDarmanin';">GDarmanin</button>
<button class="bt" onclick="window.location = '?user=GilbertCollard';">GilbertCollard</button>
<button class="bt" onclick="window.location = '?user=GillesClavreul';">GillesClavreul</button>
<button class="bt" onclick="window.location = '?user=GWGoldnadel';">GWGoldnadel</button>
<button class="bt" onclick="window.location = '?user=IanBrossat';">IanBrossat</button>
<button class="bt" onclick="window.location = '?user=IdrissSihamedi';">IdrissSihamedi</button>
<button class="bt" onclick="window.location = '?user=Isabel_thomasEU';">Isabel_thomasEU</button>
<button class="bt" onclick="window.location = '?user=ivanrioufol';">ivanrioufol</button>
<button class="bt" onclick="window.location = '?user=J_Bardella';">J_Bardella</button>
<button class="bt" onclick="window.location = '?user=J_Rodrigues_Off';">J_Rodrigues_Off</button>
<button class="bt" onclick="window.location = '?user=JeanMessiha';">JeanMessiha</button>
<button class="bt" onclick="window.location = '?user=jeannettebougra';">jeannettebougra</button>
<button class="bt" onclick="window.location = '?user=JLMelenchon';">JLMelenchon</button>
<button class="bt" onclick="window.location = '?user=jmaphatie';">jmaphatie</button>
<button class="bt" onclick="window.location = '?user=Juanico';">Juanico</button>
<button class="bt" onclick="window.location = '?user=JulienAubert84';">JulienAubert84</button>
<button class="bt" onclick="window.location = '?user=julienbahloul';">julienbahloul</button>
<button class="bt" onclick="window.location = '?user=JulienOdoul';">JulienOdoul</button>
<button class="bt" onclick="window.location = '?user=lauhaim';">lauhaim</button>
<button class="bt" onclick="window.location = '?user=LaurentBouvet';">LaurentBouvet</button>
<button class="bt" onclick="window.location = '?user=LeaSalame';">LeaSalame</button>
<button class="bt" onclick="window.location = '?user=LeBjrTristesse';">LeBjrTristesse</button>
<button class="bt" onclick="window.location = '?user=LydiaGuirous';">LydiaGuirous</button>
<button class="bt" onclick="window.location = '?user=MadjidFalastine';">MadjidFalastine</button>
<button class="bt" onclick="window.location = '?user=MajidOukacha';">MajidOukacha</button>
<button class="bt" onclick="window.location = '?user=marineturchi';">marineturchi</button>
<button class="bt" onclick="window.location = '?user=MarionMarechal';">MarionMarechal</button>
<button class="bt" onclick="window.location = '?user=MarleneSchiappa';">MarleneSchiappa</button>
<button class="bt" onclick="window.location = '?user=MartineAubry';">MartineAubry</button>
<button class="bt" onclick="window.location = '?user=MaximeCochard_';">MaximeCochard_</button>
<button class="bt" onclick="window.location = '?user=Meyer_Habib';">Meyer_Habib</button>
<button class="bt" onclick="window.location = '?user=MLP_officiel';">MLP_officiel</button>
<button class="bt" onclick="window.location = '?user=mounir';">mounir</button>
<button class="bt" onclick="window.location = '?user=N_Henin';">N_Henin</button>
<button class="bt" onclick="window.location = '?user=nadine__morano';">nadine__morano</button>
<button class="bt" onclick="window.location = '?user=ncadene';">ncadene</button>
<button class="bt" onclick="window.location = '?user=NicolasBay_';">NicolasBay_</button>
<button class="bt" onclick="window.location = '?user=olbesancenot';">olbesancenot</button>
<button class="bt" onclick="window.location = '?user=RemiFeraud';">RemiFeraud</button>
<button class="bt" onclick="window.location = '?user=RemyBuisine';">RemyBuisine</button>
<button class="bt" onclick="window.location = '?user=RenaudCamus';">RenaudCamus</button>
<button class="bt" onclick="window.location = '?user=rglucks1';">rglucks1</button>
<button class="bt" onclick="window.location = '?user=RichardFerrand';">RichardFerrand</button>
<button class="bt" onclick="window.location = '?user=RobertMenardFR';">RobertMenardFR</button>
<button class="bt" onclick="window.location = '?user=RokhayaDiallo';">RokhayaDiallo</button>
<button class="bt" onclick="window.location = '?user=RomainCaillet';">RomainCaillet</button>
<button class="bt" onclick="window.location = '?user=s_assbague';">s_assbague</button>
<button class="bt" onclick="window.location = '?user=SibethNdiaye';">SibethNdiaye</button>
<button class="bt" onclick="window.location = '?user=Sifaoui';">Sifaoui</button>
<button class="bt" onclick="window.location = '?user=SJallamion';">SJallamion</button>
<button class="bt" onclick="window.location = '?user=sonjoachim';">sonjoachim</button>
<button class="bt" onclick="window.location = '?user=StanGuerini';">StanGuerini</button>
<button class="bt" onclick="window.location = '?user=T_Bouhafs';">T_Bouhafs</button>
<button class="bt" onclick="window.location = '?user=UPR_Asselineau';">UPR_Asselineau</button>
<button class="bt" onclick="window.location = '?user=valerieboyer13';">valerieboyer13</button>
<button class="bt" onclick="window.location = '?user=vpecresse';">vpecresse</button>
<button class="bt" onclick="window.location = '?user=W_Alhusseini';">W_Alhusseini</button>
<button class="bt" onclick="window.location = '?user=xavierbertrand';">xavierbertrand</button>
<button class="bt" onclick="window.location = '?user=ZinebElRhazoui';">ZinebElRhazoui</button>
<button class="bt" onclick="window.location = '?user=ZohraBitan';">ZohraBitan</button>

</body>
</html>
<svg width="1200" height="1400"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var simulation = d3.forceSimulation()
        .force("link", d3.forceLink().id(function(d) { return d.id; }))
	.force("charge",
	d3.forceManyBody()
	.strength(function(){return -40})
	.theta(function(){return 0.9})
	)
    .force("collide", d3.forceCollide(50))
    .force("center", d3.forceCenter(width / 2, height / 2));
var url = new URL(window.location.href);
var userParam = url.searchParams.get("user");
console.log(userParam);
var jsonFile = "profiles.json";
if(userParam!=null){
   jsonFile = "users/"+userParam+".json";
   console.log(jsonFile);
   simulation.force("center", d3.forceCenter(width / 2, height / 4));
}
d3.json(jsonFile, function(error, graph) {
  if (error) throw error;

  var link = svg.append("g")
      .attr("class", "links")
    .selectAll("line")
    .data(graph.links)
    .enter().append("line")
      .attr("stroke-width", function(d) { return Math.sqrt(d.value); });

  var node = svg.append("g")
      .attr("class", "nodes")
    .selectAll("g")
    .data(graph.nodes)
    .enter().append("g")

  var circles = node.append("circle")
      .attr("r", function(d) { return d.size; })
      .attr("fill", function(d) { return d.group; })
      .call(d3.drag()
          .on("start", dragstarted)
          .on("drag", dragged)
          .on("end", dragended));

  var lables = node.append("text")
      .text(function(d) {
        return d.id;
      })
      .attr('x', function(d) { return d.size; })
      .attr('y', 3);

  node.append("title")
      .text(function(d) { return d.id; });

  simulation
      .nodes(graph.nodes)
      .on("tick", ticked);

  simulation.force("link")
      .links(graph.links);

  function ticked() {
    link
        .attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    node
        .attr("transform", function(d) {
          return "translate(" + d.x + "," + d.y + ")";
        })
  }
});

function dragstarted(d) {
  if (!d3.event.active) simulation.alphaTarget(0.01).restart();
  d.fx = d.x;
  d.fy = d.y;
}

function dragged(d) {
  d.fx = d3.event.x;
  d.fy = d3.event.y;
}

function dragended(d) {
  if (!d3.event.active) simulation.alphaTarget(0);
  d.fx = d3.event.x;
  d.fy = d3.event.y;
}

</script>
